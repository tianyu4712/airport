{"remainingRequest":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tianyu/Desktop/jichang20191211(1)(2)/src/view/pay.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/src/view/pay.vue","mtime":1576051788000},{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tianyu/Desktop/jichang20191211(1)(2)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.payBox .payOktit .van-cell__value--alone {\n  padding: 20px;\n  text-align: center;\n  font-weight: 600;\n  font-size: 17px;\n}\n\n.payBox .van-cell {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.payBox .txtMonay .van-cell {\n  padding-left: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n  font-size: 12px;\n}\n\n.payBox .tr .van-cell__value--alone {\n  text-align: right;\n}\n\n.payBox .colorff8c00 .van-cell__value--alone {\n  color: #ff8c00;\n}\n\n.payBox .payrow {\n  border-bottom: 1px solid #ebebed;\n}\n\n.payBox .payrowtop {\n  padding: 20px 0;\n  margin-top: 10px;\n  border-top: 1px solid #ebebed;\n}\n.payBox .fs20 .van-cell__value--alone {\n  font-size: 20px;\n}\n.payBox .fs18 .van-cell__value--alone {\n  font-size: 18px;\n}\n.payBox .fs18 .van-cell {\n  padding-bottom: 0;\n}\n.payBox .fs12 .van-cell__value--alone {\n  font-size: 12px;\n}\n.payBox .fs14 .van-cell__value--alone {\n  font-size: 14px;\n}\n\n.payBox .colorff8c00 {\n  color: #ff8c00;\n}\n\n.payBox .coverBox {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.payBox .coverDivAdd {\n  padding: 20px;\n  width: 70%;\n  height: auto;\n  background-color: #fff;\n  border-radius: 20px;\n  text-align: center;\n}\n.payBox .coverDivAdd h4 {\n  text-align: center;\n  font-size: 25px;\n}\n.payBox .coverDivAdd h5 {\n  color: #ff8c00;\n  font-size: 30px;\n  padding: 10px 0;\n}\n.payBox .coverDivAdd p {\n  font-size: 15px;\n  padding: 0 0 20px 0;\n}\n",{"version":3,"sources":["pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pay.vue","sourceRoot":"src/view","sourcesContent":["<template>\n  <section class=\"payBox\">\n    <van-nav-bar title=\"停车缴费\" left-text=\"\" left-arrow>\n      <!-- <van-icon name=\"search\" slot=\"right\" /> -->\n    </van-nav-bar>\n\n    <!-- 停车缴费 -->\n    <div v-show=\"payStatus=='noPay'\">\n      <div style=\"padding-top:20px;\">\n        <van-row class=\"payrow\">\n          <van-col span=\"24\" class=\"fs18\">\n            <van-cell>车牌号 {{getChargebfDatas.plate}}</van-cell>\n          </van-col>\n          <van-col span=\"24\" class=\"fs14\">\n            <van-cell>进场时间 {{getChargebfDatas.inTime}}</van-cell>\n          </van-col>\n        </van-row>\n      </div>\n\n      <van-row>\n        <van-col span=\"12\">\n          <van-cell>停车时长</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr\">\n          <van-cell>{{getChargebfDatas.stopTimeTotal}}</van-cell>\n        </van-col>\n      </van-row>\n      <van-row>\n        <van-col span=\"12\">\n          <van-cell>收费标准</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr\">\n          <van-cell>6元/小时</van-cell>\n        </van-col>\n      </van-row>\n      <van-row class=\"payrow\">\n        <van-col span=\"12\">\n          <van-cell>应缴费用</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr colorff8c00\">\n          <van-cell>¥{{getChargebfDatas.charge}}</van-cell>\n        </van-col>\n      </van-row>\n\n      <van-row>\n        <van-col span=\"20\">\n          <van-cell>停车优惠券</van-cell>\n        </van-col>\n        <van-col span=\"4\">\n          <van-cell class=\"tr\">\n            <van-checkbox v-model=\"yhChecked\" checked-color=\"#07c160\"></van-checkbox>\n          </van-cell>\n        </van-col>\n      </van-row>\n      <!-- 使用抵扣金额 或是 使用抵扣时间 -->\n      <van-row class=\"txtMonay\">\n        <van-col span=\"12\">\n          <van-cell>抵扣金额</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr colorff8c00\" v-if=\"yhChecked\">\n          <van-cell> -¥6.0 </van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr\" v-else>\n          <van-cell> -¥6.0 </van-cell>\n        </van-col>\n      </van-row>\n\n      <van-row class=\"txtMonay\">\n        <van-col span=\"12\">\n          <van-cell>抵扣时长</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr colorff8c00\" v-if=\"yhChecked\">\n          <van-cell> 1小时 </van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr\" v-else>\n          <van-cell> 1小时 </van-cell>\n        </van-col>\n      </van-row>\n\n      <van-row>\n        <van-col span=\"20\">\n          <van-cell>阳光会员优惠</van-cell>\n        </van-col>\n        <van-col span=\"4\">\n          <van-cell class=\"tr\">\n            <van-checkbox v-model=\"ygChecked\" checked-color=\"#07c160\"></van-checkbox>\n          </van-cell>\n        </van-col>\n      </van-row>\n      <van-row class=\"txtMonay\">\n        <van-col span=\"12\">\n          <van-cell>抵扣金额</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr colorff8c00\" v-if=\"ygChecked\">\n          <van-cell> -¥5.0 </van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr\" v-else>\n          <van-cell> -¥5.0 </van-cell>\n        </van-col>\n      </van-row>\n\n      <van-row class=\"payrowtop\">\n        <van-col span=\"12\" class=\"fs18\">\n          <van-cell>应缴费用</van-cell>\n        </van-col>\n        <van-col span=\"12\" class=\"tr fs18 colorff8c00\">\n          <van-cell>¥{{getChargebfDatas.payCharge}}</van-cell>\n        </van-col>\n      </van-row>\n\n      <van-row>\n        <van-col span=\"16\" offset=\"4\" style=\"padding-top:30px\">\n          <van-button type=\"info\" size=\"large\" round @click=\"showPayConfim\">支付</van-button>\n        </van-col>\n      </van-row>\n    </div>\n\n    <!-- 缴费成功 -->\n    <div v-show=\"payStatus=='success'\">\n      <van-row>\n        <van-col span=\"24\" style=\"text-align:center;padding-top:60px\">\n          <!-- <van-icon name=\"passed\" size=\"55px\" color=\"#09ba07\" /> -->\n          <img src=\"../assets/iconpass.png\" style=\"width:54px;vertical-align: middle;\" />\n        </van-col>\n        <van-col span=\"24\" class=\"payOktit\">\n          <van-cell>\n            {{getChargebfDatas.plate}} 停车缴费成功！\n          </van-cell>\n        </van-col>\n      </van-row>\n\n      <van-cell-group>\n        <van-cell title=\"进场时间\" :value=\"getChargebfDatas.inTime\" />\n        <van-cell title=\"缴费时间\" :value=\"getChargebfDatas.getTime\" />\n      </van-cell-group>\n\n      <van-row>\n        <van-col span=\"24\">\n          <van-cell>请在<span class=\"colorff8c00\">15分钟</span>离开停车场</van-cell>\n        </van-col>\n        <van-col span=\"16\" offset=\"4\" style=\"padding-top:30px\">\n          <van-button type=\"info\" size=\"large\" round @click=\"goInvoiceList\">获取电子发票</van-button>\n        </van-col>\n      </van-row>\n    </div>\n\n    <!-- 弹出层 添加新车辆 -->\n    <van-overlay :show=\"showOverlayPay\">\n      <div class=\"coverBox\">\n        <div class=\"coverDivAdd\">\n          <!-- <van-icon name=\"passed\" size=\"55px\" color=\"#09ba07\" /> -->\n          <h4>{{getChargebfDatas.plate}}</h4>\n          <h5>¥{{getChargebfDatas.payCharge}}</h5>\n          <p>已优惠：¥6.0</p>\n          <van-row>\n            <van-col span=\"12\">\n              <van-button type=\"info\" size=\"small\" style=\"border-radius:10px\" @click=\"goPay\">确认支付\n              </van-button>\n            </van-col>\n            <van-col span=\"12\">\n              <van-button type=\"default\" size=\"small\" color=\"#ccc\" style=\"border-radius:10px\"\n                @click=\"closeOverlayAddPlate\"> 取消 </van-button>\n            </van-col>\n          </van-row>\n        </div>\n      </div>\n    </van-overlay>\n\n  </section>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport { getChargebf, sendPayRes } from '@/libs/api'\nexport default {\n  data() {\n    return {\n      parkNumber: 'p190719151450',\n      //是否使用优惠\n      yhChecked: true,\n      //是否使用阳光会员优惠\n      ygChecked: false,\n\n      showOverlayPay: false,\n\n      getChargebfDatas: {},\n\n      payStatus: 'noPay'\n    }\n  },\n  mounted() {\n    this.getChargebf()\n  },\n  methods: {\n    // 请求算费\n    getChargebf() {\n      var para = {\n        parkNumber: this.parkNumber,\n        plate: '京P32332',\n        ticketCode: '',\n        orderId: '',\n        wxOpenId: '',\n        couponTime: ''\n      }\n      console.log(para)\n      getChargebf(para).then(res => {\n        console.log(res)\n\n        // res = {\n        //   datas: {\n        //     profitTimeTotal: '0',\n        //     charge: '25',\n        //     orderId: '245',\n        //     getTime: '2019-12-11 14:20:41',\n        //     memo: '',\n        //     plate: '京P32332',\n        //     payCharge: '25',\n        //     paidfreeTime: '5',\n        //     inTime: '2019-12-06 16:20:00',\n        //     imgName: '1912490003_20191206162000_0000000001_test_zip.jpg^1',\n        //     timeStamp: '1576045241147',\n        //     paidTotal: '0',\n        //     outTradeNo: 'p190719151450_0_245_142042',\n        //     profitChargeTotal: '0',\n        //     stopTimeTotal: '7080'\n        //   },\n        //   status: 'success'\n        // }\n\n        this.getChargebfDatas = res.datas\n      })\n    },\n\n    // 弹出支付\n    showPayConfim() {\n      this.showOverlayPay = true\n    },\n\n    goPay() {\n      var para = {\n        parkNumber: this.parkNumber,\n        orderId: this.getChargebfDatas.orderId,\n        plate: this.getChargebfDatas.plate,\n        payCharge: this.getChargebfDatas.payCharge,\n        realCharge: this.getChargebfDatas.payCharge,\n        payTime: '2018-03-29 17:28:02',\n        payType: '现金',\n        payChannel: '提前付',\n        transactionID: '1',\n        getTimes: this.getChargebfDatas.getTime,\n        outTradeNo: this.getChargebfDatas.outTradeNo\n      }\n\n      sendPayRes(para).then(res => {\n        console.log(res)\n\n        if (res.status == 'success') {\n          this.payStatus = 'success'\n          this.showOverlayPay = false\n        }\n      })\n      console.log('去支付')\n    },\n\n    // 获取发票\n    goInvoiceList() {\n      this.$router.push('/invoiceList')\n    },\n\n    closeOverlayAddPlate() {\n      this.showOverlayPay = false\n    }\n  }\n}\n</script>\n\n<style>\n.payBox .payOktit .van-cell__value--alone {\n  padding: 20px;\n  text-align: center;\n  font-weight: 600;\n  font-size: 17px;\n}\n\n.payBox .van-cell {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n.payBox .txtMonay .van-cell {\n  padding-left: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n  font-size: 12px;\n}\n\n.payBox .tr .van-cell__value--alone {\n  text-align: right;\n}\n\n.payBox .colorff8c00 .van-cell__value--alone {\n  color: #ff8c00;\n}\n\n.payBox .payrow {\n  border-bottom: 1px solid #ebebed;\n}\n\n.payBox .payrowtop {\n  padding: 20px 0;\n  margin-top: 10px;\n  border-top: 1px solid #ebebed;\n}\n.payBox .fs20 .van-cell__value--alone {\n  font-size: 20px;\n}\n.payBox .fs18 .van-cell__value--alone {\n  font-size: 18px;\n}\n.payBox .fs18 .van-cell {\n  padding-bottom: 0;\n}\n.payBox .fs12 .van-cell__value--alone {\n  font-size: 12px;\n}\n.payBox .fs14 .van-cell__value--alone {\n  font-size: 14px;\n}\n\n.payBox .colorff8c00 {\n  color: #ff8c00;\n}\n\n.payBox .coverBox {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n}\n.payBox .coverDivAdd {\n  padding: 20px;\n  width: 70%;\n  height: auto;\n  background-color: #fff;\n  border-radius: 20px;\n  text-align: center;\n}\n.payBox .coverDivAdd h4 {\n  text-align: center;\n  font-size: 25px;\n}\n.payBox .coverDivAdd h5 {\n  color: #ff8c00;\n  font-size: 30px;\n  padding: 10px 0;\n}\n.payBox .coverDivAdd p {\n  font-size: 15px;\n  padding: 0 0 20px 0;\n}\n</style>"]}]}